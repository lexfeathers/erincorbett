---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";
const allPosts = Object.values(
  import.meta.glob("./posts/*.md", { eager: true })
);

const pageTitle = "Blog";
---

<BaseLayout pageTitle={pageTitle}>
  <p>
    {allPosts.length != 0 && allPosts.length}
    {
      () => {
        if (allPosts.length == 1) {
          return "post:";
        } else if (allPosts.length == 0) {
          return "No posts yet";
        } else {
          return "posts:";
        }
      }
    }
  </p>
  <ul class="blog-list">
    {
      allPosts.map((post: any) => (
        <BlogPost
          url={post.url}
          title={post.frontmatter.title}
          date={post.frontmatter.pubDate}
        />
      ))
    }
  </ul>
</BaseLayout>
